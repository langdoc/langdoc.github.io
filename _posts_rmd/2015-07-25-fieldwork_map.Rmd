---
layout: post
title:  "Fieldwork map"
date:   2015-07-25 23:55:14
tags: [fieldwork, R]
excerpt_separator: <!--more-->
self_contained: no
maps: true
---

Doing language documentation with a language like Komi is in many ways different from working with actually non-documented languages. With Komi there is a long research history and collection of data has been ongoing for about 170 years. The data varies and is uneven, but the new data collected now can only be observed and used in connection to the old. In no village can we ever be the first fieldworkers. This of course opens up the question of how many villages there are and where exactly they are located.<!--more-->

The map below shows the fieldwork done within Iźva Komi and some other Komi dialects by different researchers. This is a simple beta-version, which doesn't contain everything. Complete version will be soon exported from our database, and additions are welcome.

It must be mentioned that this map is heavily biased to the work done by West-European scholars. Naturally, native Komi researchers have been working enormously for decades with different Komi varieties. This bias is simply result of situation where data stored in the Western archives is more accessible for us than what is stored in local Russian archives.

At the moment the shows only Komi-Zyrian dialects. I'm on my way to connect it to our database and get some markers from there.

<iframe id="map_id" width=700 height=500 src="https://raw.githubusercontent.com/langdoc/langdoc.github.io/master/media/maps/kpv_dial.html"></iframe>

```{r eval=F, echo=F, warning=F, message=F}

# Here were good instructions for embedding the file
# http://amsantac.co/blog/en/r/2015/08/11/leaflet-R.html

library(rgdal)
library(leaflet)
library(maptools)
library(ggmap)

pal <- colorQuantile("YlGn", NULL, n = 5, na.color=NA)

# state_popup <- paste0("<strong>кар / сикт: </strong>", 
#                       komi@data$Location)

# mb_tiles <- "http://a.tiles.mapbox.com/v3/kwalkertcu.l1fc0hab/{z}/{x}/{y}.png"

mb_attribution <- 'Niko Partanen, work funded by Kone Foundation'

kpv_dial <- readShapePoly("~/Documents/Maps/kpv/kpv-dial.shp", proj4string = CRS("+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs"))

kpv_izva <- readShapePoly("~/Documents/Maps/kpv/kpv-izma-dial.shp", proj4string = CRS("+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs"))

kpv <- readOGR("https://raw.githubusercontent.com/nikopartanen/language_maps/master/geojson/kpv.geojson", "OGRGeoJSON")

map <- leaflet() %>%
           addProviderTiles("Esri.WorldTopoMap") %>%
  addPolygons(data = kpv,
#              fillColor = ~pal(outID), 
              fillOpacity = 0.4, 
              color = "gray", 
              weight = 1)

map
```

